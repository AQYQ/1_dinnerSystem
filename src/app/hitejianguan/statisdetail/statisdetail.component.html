<app-navpc></app-navpc> 
<div class="statistic_apply">
    <div class="statistic_content_Box">
        <div class="statistic_head">
            <div class="statistic_headLeft" (click)="gobackFun()">{{goback}}</div>
            <!-- <div class="statistic_headLeft">统计</div> -->
            <div class="statistic_headRight">
                <button nz-button nzType="primary" (click)="downloadurl('999')">导出</button>
                <button nz-button nzType="primary" (click)="confirm()" *ngIf="!isYes">确认</button>
                <!-- <button nz-button nzType="primary" (click)="deleteconfirm()">取消确认</button> -->
                <button nz-button nzType="primary" (click)="confirm2()" *ngIf="isYes" >已确认</button>
            </div>
        </div>

        <div class="statistic_table">
            <div class="statistic_order">
                <div class="statistic_order_Box">
                    <div class="statistic_title">
                        <span class="commitTime">提交时间</span>
                        <span class="userName">姓名</span>
                        <span class="package">订餐</span>
                        <span class="reasonTxt">加班事由</span>
                        <span class="workTime">时间</span>
                    </div>
                    <div class="statistic_content_box">
                        <ul class="statistic_content statistic_content_ul">
                            <li *ngFor="let n of alldata" title="{{n.o_cause}}">
                                <span class="commitTime">{{n.o_create_time * 1000 | date:'HH:mm'}}</span>
                                <span class="userName">{{n.o_name}}</span>
                                <span class="package">{{n.o_food_name ? n.o_food_name : '未订餐'}}</span>
                                <span class="reasonTxt">
                                    <span>{{n.o_cause}}</span>
                                </span>
                                <span class="workTime">{{n.o_time_slot}}</span>
                            </li>
                        </ul>
        
                        <div class="pageBox">
                            <nz-pagination 
                                *ngIf="allpagenumber/10 !== 1"
                                [nzTotal]="allpagenumber"
                                [(nzPageIndex)]="pageIndex" 
                                [nzPageSize]="10" 
                                (nzPageIndexChange)="getData()">
                            </nz-pagination>
                        </div>
                    </div>
                </div>
            </div>
            <ul class="statistic_detail">
                <li  *ngFor="let c of detail">
                    <span>{{c.name}}：{{c.number}}</span>
                </li>
            </ul>
        </div>

        <nz-modal [(nzVisible)]="isVisible" nzTitle="请确认" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk('999')">
            <p>确认后用户将不可订餐，是否确认？</p>
          </nz-modal>
    </div>
</div>